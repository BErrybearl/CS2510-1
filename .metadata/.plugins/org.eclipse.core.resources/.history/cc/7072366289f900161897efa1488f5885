class Book {
  String title;
  String author;
  int price;

  Book(String title, String author, int price) {
    this.title = title;
    this.author = author;
    this.price = price;
  }

}

class Circle {
  int radius;

  Circle(int r) {
    this.radius = r;
  }

}

interface IList<T> {

  IList<T> append(IList<T> lot);

  <U> IList<U> apply(IFunc<T, U> f);

  IList<T> filter(IPred<T> pred);

  <U> U accept(IListVisitor<T, U> v);
}

class MtList<T> implements IList<T> {

  public IList<T> append(IList<T> lot) {
    return lot;
  }

  public <U> IList<U> apply(IFunc<T, U> f) {
    return new MtList<U>();
  }

  public IList<T> filter(IPred<T> pred) {
    return this;
  }

  public <U> U accept(IListVisitor<T, U> v) {
    return v.visit(this);
  }
}

class ConsList<T> implements IList<T> {
  T first;
  IList<T> rest;

  ConsList(T first, IList<T> rest) {
    this.first = first;
    this.rest = rest;
  }

  public IList<T> append(IList<T> lot) {
    return new ConsList<T>(this.first, this.rest.append(lot));
  }

  public <U> IList<U> apply(IFunc<T, U> f) {
    return new ConsList<U>(f.apply(this.first), this.rest.apply(f));
  }

  // filter this ConsList<T> using a given IPred<T>
  public IList<T> filter(IPred<T> pred) {
    if (pred.apply(this.first)) {
      return new ConsList<T>(this.first, this.rest.filter(pred));
    }
    else
      return this.rest.filter(pred);
  }

  public <U> U accept(IListVisitor<T, U> v) {
    return v.visit(this);
  }
}

interface IPred<T> {

  // takes a T and produces a boolean
  boolean apply(T arg);
}

// represents a function object that determines if the given String is the
// letter "I" (case insensitive)
class IsLetterI implements IPred<String> {

  // determines if the given String is the letter "I" (case insensitive)
  public boolean apply(String arg) {
    return arg.toLowerCase().equals("i");
  }
}

// represents a function object that determines if the Book's author field is an
// empty String
class IsEmptyAuthor implements IPred<Book> {

  // determines if the Book's author field is an empty String
  public boolean apply(Book arg) {
    return arg.author.equals("");
  }
}

interface IFunc<T, U> {
  U apply(T t);
}

class BookTitle implements IFunc<Book, String> {
  public String apply(Book book) {
    return book.title;
  }
}

class CircleArea implements IFunc<Circle, Double> {

  public Double apply(Circle cir) {
    return Math.PI * cir.radius * cir.radius;
  }
}

interface IListVisitor<T, U> {
  U visit(MtList<T> mt);

  U visit(ConsList<T> cons);
}

class MapVisitor<T, U> implements IListVisitor<T, IList<U>> {
  IFunc<T, U> f;

  MapVisitor(IFunc<T, U> f) {
    this.f = f;
  }

  public IList<U> visit(MtList<T> mt) {
    return new MtList<U>();
  }

  public IList<U> visit(ConsList<T> cons) {
    return new ConsList<U>(f.apply(cons.first), cons.rest.accept(this));
  }

}

class FilterVisitor<T> implements IListVisitor<T, IList<T>> {
  IPred<T> p;

  FilterVisitor(IPred<T> p) {
    this.p = p;
  }

  public IList<T> visit(MtList<T> mt) {
    return new MtList<T>();
  }

  public IList<T> visit(ConsList<T> cons) {
    if (p.apply(cons.first)) {
      return new ConsList<T>(cons.first, cons.rest.accept(this));
    }
    else {
      return cons.rest.accept(this);
    }
  }
}

class ExamplesList {

}